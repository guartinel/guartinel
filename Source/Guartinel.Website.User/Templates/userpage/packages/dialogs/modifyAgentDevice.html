<form name="updateAgentDeviceForm" ng-submit="updateAgentDevice()" layout-margin flex>

   <div layout="column" layout layout-align="center center" flex>

      <p>Warning! The following agents will be replaced: </p>

      <ul ng-repeat="removeAgentDevice in removeAgentDevices">
         <li> {{removeAgentDevice}} </li>
      </ul>

   </div>

   <div layout="row">
      <span layout layout-align="center center">New Agent device:</span>
      <md-select required layout layout-align="center center" placeholder="Agent device" ng-model="newAgentId">
         <md-option class="md-option_smaller"
                    ng-repeat="device in devices | selectAgents " value="{{device.id}}">{{device.name}}</md-option><!--{deviceType : 'agent_device'}" value="{{device.id}}">{{device.name}}</md-option>-->
      </md-select>
   </div>

   <div align="center">
      <md-progress-circular ng-if="loading" md-mode="indeterminate"></md-progress-circular>
      <md-button style="text-transform: none" ng-if="!loading" ng-disabled="updateAgentDeviceForm.$invalid"
                 type="submit" class="md-primary md-raised">Update</md-button>
   </div>
</form>